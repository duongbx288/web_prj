<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href='index_style.css' />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      crossorigin="anonymous"
    />
    <script src='script.js'></script>
  </head>
  <body>
    <nav>
      <div class="logo">
        <h4>Covid System</h4>
      </div>
      <div class="login-wrap">
        <button class="login-button" onclick="login()">Log in</button>
        <button class="login-button" onclick="MOH()">MOH</button>
        <button class="login-button">About</button>
      </div>
    </nav>
    <main>
      <h3>Content</h3>
      <div class="flex-container">
        <div class="carousel-container">
          <div class="carousel">
            <button class="carousel_button button-left is-hidden">
              <i class="fas fa-chevron-left"></i>
            </button>
            <div class="carousel_track-container">
              <ul class="carousel_track">
                <li class="carousel_slide current-slide first_img">
                  <img
                    class="carousel_image"
                    src='image_1.jpg'
                    alt="img_1"
                  />
                  <div class="text">
                    <pre>Caption1<br>This is the 1st                    
                  </pre>
                  </div>
                </li>
                <li class="carousel_slide">
                  <img
                    class="carousel_image"
                    src='image_2.jpg'
                    alt="img_2"
                  />
                  <div class="text">
                    <pre>Caption2<br>This is the 2nd                   
                  </pre>
                  </div>
                </li>
                <li class="carousel_slide">
                  <img
                    class="carousel_image"
                    src="image_3.jpg"
                    alt="img_3"
                  />
                  <div class="text">
                    <pre>Caption3<br>This is the 3rd                     
                  </pre>
                  </div>
                </li>
                <li class="carousel_slide">
                  <img
                    class="carousel_image"
                    src='covid_bg.jpg'
                    alt="img_4"
                  />
                  <div class="text">
                    <pre>Caption4<br>This is the 4th                     
                  </pre>
                  </div>
                </li>
              </ul>
            </div>
            <button class="carousel_button button-right">
              <i class="fas fa-chevron-right"></i>
            </button>

            <div class="carousel_nav">
              <button
                class="carousel_indicator current-slide first_dot"
              ></button>
              <button class="carousel_indicator"></button>
              <button class="carousel_indicator"></button>
              <button class="carousel_indicator"></button>
            </div>
          </div>
        </div>
        <div class="news-container">
          <div class="button-container">
            <button class="tablink red" onclick="openTab(event,'News')">
              Covid-19 News
            </button>
            <button class="tablink" onclick="openTab(event,'Finance-news')">
              Finance
            </button>
          </div>

          <div class="Covid-news type" id="News">
            <ul>
              <li><div id="img1" class="img-container"></div><a href="#"><p>
                First link
              </p></a></li>
              <li><div id="img2" class="img-container"></div><a href="#"><p>
                Second link
              </p></a></li>
              <li><div id="img3" class="img-container"></div><a href="#"><p>
                Third link
              </p></a></li>
              <li><div id="img4" class="img-container"></div><a href="#"><p>
                Fourth link
              </p></a></li>
            </ul>
          </div>

          <div class="Finance type" id="Finance-news" style="display: none">
            <ul>
              <li><div id="img1" class="img-container"></div><a href="#"><p>
                Fifth link
              </p></a></li>
              <li><div id="img2" class="img-container"></div><a href="#"><p>
                Sixth link
              </p></a></li>
              <li><div id="img3" class="img-container"></div><a href="#"><p>
                Seventh link
              </p></a></li>
              <li><div id="img4" class="img-container"></div><a href="#"><p>
                Eighth link
              </p></a></li>
            </ul>
          </div>
        </div>
        <script>
          function openTab(evt, typeName) {
            var i, x, tablinks;
            x = document.getElementsByClassName("type");
            for (i = 0; i < x.length; i++) {
              x[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablink");
            for (i = 0; i < x.length; i++) {
              tablinks[i].className = tablinks[i].className.replace("red", "");
            }
            document.getElementById(typeName).style.display = "block";
            evt.currentTarget.className += " red";
          }
        </script>
      </div>
      <div class="news">
        <h1>Tin tức trong tuần</h1>
        <div class="container">
          <div id="card1" class="card">
            <h4>Thông tin từ CSIS</h4>
            <p>hello this is a news</p>
          </div>
          <div class="dark-glass"></div>
          <div class="news-card">
            <h3>Thông tin về các ca nhiễm covid trong tuần</h3>
            <p>Theo Bộ Y tế đến nay đã có hơn 1,26 triệu F0 tại nước ta khỏi bệnh; 
                 Sở Y tế các tỉnh yêu cầu,
                 các lực lượng tham gia phòng 
                 chống dịch đảm bảo 100% quân số trong ngày nghỉ tết dương lịch</p>
          </div>
        </div>
        <div class="container">
          <div id="card2" class="card">
            <h4>Tin tức từ NTV</h4>
            <p>hello this is a news</p>
          </div>
          <div class="dark-glass"></div>
          <div class="news-card">
            <h3>Thông báo toàn dân chống dịch</h3>
            <p>Theo Bộ Y tế đến nay đã có hơn 1,26 triệu F0 tại nước ta khỏi bệnh; 
              Sở Y tế các tỉnh yêu cầu,
              các lực lượng tham gia phòng 
              chống dịch đảm bảo 100% quân số trong ngày nghỉ tết dương lịch</p>
          </div>
        </div>
        <div class="container">
          <div id="card3" class="card">
            <h4>Thông báo toàn quốc</h4>
            <p>hello this is a news</p>
          </div>
          <div class="dark-glass"></div>
          <div class="news-card">
            <h3>Biến chủng Omicron có nguy cơ bùng phát tại VN!</h3>
            <p>Theo Bộ Y tế đến nay đã có hơn 1,26 triệu F0 tại nước ta khỏi bệnh; 
              Sở Y tế các tỉnh yêu cầu,
              các lực lượng tham gia phòng 
              chống dịch đảm bảo 100% quân số trong ngày nghỉ tết dương lịch</p>
          </div>
        </div>
      </div>
    </main>

    <footer>
      <ul class="icon">
        <li><a href="#">A</a></li>
        <li><a href="#">B</a></li>
        <li><a href="#">C</a></li>
        <li><a href="#">D</a></li>
      </ul>
      <br />
      <ul class="menu">
        <li><a href="#">Home</a></li>
        <li><a href="#">About</a></li>
        <li><a href="#">Contact</a></li>
        <li><a href="#">Services</a></li>
      </ul>
      <p>Covid System 2021 || From Viet Nam</p>
    </footer>
  </body>
  <script>
    /// for the image slide
    const track = document.querySelector(".carousel_track");
    const slides = Array.from(track.children);
    const nextButton = document.querySelector(".button-right");
    const prevButton = document.querySelector(".button-left");
    const dotsNav = document.querySelector(".carousel_nav");
    const dots = Array.from(dotsNav.children);

    //Get size of the element
    const slideSize = slides[0].getBoundingClientRect();
    const slideWidth = slideSize.width;

    // ARRANGE the slides next to one another
    const setSlidePosition = (slide, index) => {
      slide.style.left = slideWidth * index + "px";
    };
    slides.forEach(setSlidePosition);

    //
    const moveToSlide = (track, currentSlide, targetSlide) => {
      track.style.transform = "translateX(-" + targetSlide.style.left + ")";
      currentSlide.classList.remove("current-slide");
      targetSlide.classList.add("current-slide");
    };

    //
    const updateDots = (currentDot, targetDot) => {
      currentDot.classList.remove("current-slide");
      targetDot.classList.add("current-slide");
    };

    //
    const hideButtons = (slides, prevButton, nextButton, targetIndex) => {
      if (targetIndex === 0) {
        prevButton.classList.add("is-hidden");
        nextButton.classList.remove("is-hidden");
      } else if (targetIndex === slides.length - 1) {
        prevButton.classList.remove("is-hidden");
        nextButton.classList.add("is-hidden");
      } else {
        prevButton.classList.remove("is-hidden");
        nextButton.classList.remove("is-hidden");
      }
    };

    // Move slide to the right when click right
    nextButton.addEventListener("click", (e) => {
      //why not 'document' instead of 'track'?
      const currentSlide = track.querySelector(".current-slide");
      const nextSlide = currentSlide.nextElementSibling;
      const currentDot = dotsNav.querySelector(".current-slide");
      const nextDot = currentDot.nextElementSibling;
      const nextIndex = slides.findIndex((slide) => slide === nextSlide);

      //move to the next slide
      moveToSlide(track, currentSlide, nextSlide);
      updateDots(currentDot, nextDot);
      hideButtons(slides, prevButton, nextButton, nextIndex);
    });

    // Move slide to the left when click left
    prevButton.addEventListener("click", (e) => {
      const currentSlide = track.querySelector(".current-slide");
      const prevSlide = currentSlide.previousElementSibling;
      const currentDot = dotsNav.querySelector(".current-slide");
      const prevDot = currentDot.previousElementSibling;
      const prevIndex = slides.findIndex((slide) => slide === prevSlide);

      moveToSlide(track, currentSlide, prevSlide);
      updateDots(currentDot, prevDot);
      hideButtons(slides, prevButton, nextButton, prevIndex);
    });

    // Move the nav indicators, move to that slide
    dotsNav.addEventListener("click", (e) => {
      const targetDot = e.target.closest("button");

      //Not button -> then return
      if (!targetDot) return;

      const currentSlide = track.querySelector(".current-slide");
      const currentDot = dotsNav.querySelector(".current-slide");
      const targetIndex = dots.findIndex((dot) => dot === targetDot);
      const targetSlide = slides[targetIndex];

      moveToSlide(track, currentSlide, targetSlide);
      updateDots(currentDot, targetDot);
      hideButtons(slides, prevButton, nextButton, targetIndex);
    });
  </script>
</html>
